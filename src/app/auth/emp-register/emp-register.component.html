<section class="register">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div class="col register__content">
        <button type="button" mat-button routerLink="/home" class="mx-auto py-4 text-center d-flex align-items-center">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 32 32">
            <g id="Group_2415" data-name="Group 2415" transform="translate(3.429 3)">
              <circle id="Ellipse_2" data-name="Ellipse 2" cx="16" cy="16" r="16" transform="translate(-3.429 -3)"
                fill="#0351ff"></circle>
              <path id="Path_1479" data-name="Path 1479"
                d="M930.98-550.18a12.887,12.887,0,0,1,12.895,13.014A12.9,12.9,0,0,1,930.7-524.374a12.894,12.894,0,0,1-12.625-13.269A12.9,12.9,0,0,1,930.98-550.18Zm12.025,12.792A12.047,12.047,0,0,0,930.381-549.3a12.054,12.054,0,0,0-11.43,12.69,12.042,12.042,0,0,0,12.605,11.354A12.025,12.025,0,0,0,943.005-537.388Z"
                transform="translate(-918.068 550.18)" fill="#0351ff" stroke="#fff" stroke-width="1"></path>
              <path id="Path_1481" data-name="Path 1481"
                d="M1200.886-436.28h2.932a.462.462,0,0,1,.443.729c-.445.863-.894,1.723-1.335,2.588a.472.472,0,0,0-.047.276q.708,4.054,1.426,8.107c.124.7.258,1.408.373,2.114a1.59,1.59,0,0,1-.37,1.306q-1.089,1.329-2.181,2.656a1.57,1.57,0,0,1-2.508,0c-.724-.873-1.437-1.756-2.163-2.628a1.842,1.842,0,0,1-.346-1.621c.433-2.384.847-4.772,1.267-7.159.164-.929.33-1.858.489-2.788a.417.417,0,0,0-.036-.243c-.444-.869-.879-1.744-1.349-2.6a.486.486,0,0,1,.456-.742C1198.92-436.266,1199.9-436.28,1200.886-436.28Zm-1.132,3.845c-.06.329-.118.643-.173.958q-.81,4.572-1.62,9.145a.639.639,0,0,0,.128.536q1.13,1.39,2.269,2.773a.661.661,0,0,0,1.038-.005c.746-.9,1.485-1.815,2.228-2.722a.721.721,0,0,0,.158-.609q-.3-1.681-.6-3.362-.483-2.723-.965-5.446c-.075-.421-.15-.842-.225-1.267Zm-1.126-2.925a.64.64,0,0,0,.029.085c.316.611.629,1.223.953,1.83a.235.235,0,0,0,.178.088c.721.006,1.443,0,2.164.006a.2.2,0,0,0,.214-.127c.294-.58.6-1.155.895-1.732.024-.046.042-.095.067-.151Z"
                transform="translate(-1187.969 439.998)" fill="#0351ff" stroke="#fff" stroke-width="1"></path>
            </g>
          </svg>
          <span class="register__content__app ml-2">Jobit</span>
        </button>

        <h3 class="text-center mb-3">Employer Registration</h3>

        <form class="col-12 col-md-10 row register__infoForm" [formGroup]="empForm" (ngSubmit)="empSubmit()">
          <h3 class="col-12 my-3">Personal Info</h3>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>First Name</mat-label>
              <input matInput placeholder="Min: 6 Characters" formControlName="firstName">
              <mat-error *ngIf="empForm.get('firstName').errors">First Name is invalid</mat-error>
            </mat-form-field>
          </div>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Last Name</mat-label>
              <input matInput placeholder="Min: 6 Characters" formControlName="lastName">
              <mat-error *ngIf="empForm.get('lastName').errors">Last Name is invalid</mat-error>
            </mat-form-field>
          </div>

          <div class="col-12 col-md-12">
            <mat-form-field appearance="outline">
              <mat-label>Title</mat-label>
              <input matInput placeholder="Min: 6 Characters" formControlName="title">
              <mat-error *ngIf="empForm.get('title').errors">Please enter your job title</mat-error>
            </mat-form-field>
          </div>

          <div class="col-12 col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Department</mat-label>
              <input matInput formControlName="department">
              <mat-error *ngIf="empForm.get('department').errors">Please enter your working department</mat-error>
            </mat-form-field>
          </div>

          <div class="col-12 col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Phone number</mat-label>
              <input matInput formControlName="phone">
              <mat-error *ngIf="empForm.get('phone').errors">
                {{empForm.get('phone').errors["duplicated"] ? 'Phone is already existed' : "Phone is not valid"}}
              </mat-error>
            </mat-form-field>
          </div>
          <div class="lds-hourglass col-1" *ngIf="empForm.get('phone').pending"></div>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Email</mat-label>
              <input matInput placeholder="example@gmail.com" formControlName="email">
              <mat-error *ngIf="empForm.get('email').invalid">
                {{empForm.get("email").errors["duplicated"] ? "Email is already existed" : "Email is required"}}
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Password</mat-label>
              <input type="password" matInput placeholder="Min 8 Characters" formControlName="password" password>
              <mat-error *ngIf="empForm.get('password').errors">
                {{ empForm.get('password').errors["required"] ? "Password is required" : "Password should be minimum of 8 characters" }}
              </mat-error>
            </mat-form-field>
          </div>

        <div class="col-12 row" [formGroup]="companyForm">
          <h3 class="col-12 my-3">Company Information</h3>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Company Name</mat-label>
              <input matInput placeholder="Min: 6 Characters" formControlName="name">
              <mat-error *ngIf="companyForm.get('name').errors">Company name is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Website</mat-label>
              <input matInput placeholder="Min: 6 Characters" formControlName="website">
              <mat-error *ngIf="companyForm.get('website').errors">Website is required</mat-error>
            </mat-form-field>
          </div>

          <div class="col-12 col-md-4">
            <mat-form-field appearance="outline">
              <mat-label>Locations</mat-label>
              <mat-select multiple (selectionChange)="addLocation($event)" formArrayName="locations">
                <mat-option *ngFor="let location of locations" [value]="location.ID">
                  {{location.location}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="col-12 d-flex flex-column">
            <!-- <img [src]="seekerImg" alt="Profile Photo" class="mw-100"> -->
            <mat-progress-bar mode="determinate" *ngIf="uploadPercent" [value]="uploadPercent | async"></mat-progress-bar>
            <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" [file]="seekerImg" *ngIf="seekerImg">
              <!-- <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label> -->
            </ngx-dropzone-image-preview>

            <ngx-dropzone (change)="onSelect($event)" [multiple]="false" [accept]="'image/jpeg,image/jpg,image/png, image/svg+xml'">
              <ngx-dropzone-label><mat-icon class="upload-icon" color="accent">upload</mat-icon><br> <p>Drop your photo here</p></ngx-dropzone-label>
              <ngx-dropzone-preview *ngIf="seekerImg" [removable]="true" (removed)="onRemove()">
                <ngx-dropzone-label>{{ seekerImg?.name }} ({{ seekerImg?.type }}) </ngx-dropzone-label>
              </ngx-dropzone-preview>
            </ngx-dropzone>
          </div>

          <div class="col-12">
            <button type="submit" class="mt-2" mat-raised-button color="primary" [disabled]="empForm.invalid">Save
              and Continue</button>
          </div>
        </div>
      </form>

      </div>
    </div>
  </div>
</section>
